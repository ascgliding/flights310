{% extends 'base.html' %}
{% block header %}
{% endblock %}
{% block content %}
Some important notes:
<div class="mobile_port_suppress mobile_land_suppress">
<ul>
  <li style="list-style-type:disc;margin-left:30px">A task can be both meter driven and calendar driven.
    In which case the standard task should be calendar based and both a next due date and a next due reading should be entered.
    The system will use the earliest of the two triggers.  To add the meter, first select the meter and update the record,
    then re-edit at which time you will be able to enter the meter reading.
  </li>
  <li style="list-style-type:disc;margin-left:30px">Where a date in not applicable or not known leave it with dd/mm/yy in the field</li>
  <li style="list-style-type:disc;margin-left:30px">Where a task is meter based, the next due date is not used.</li>
  <li style="list-style-type:disc;margin-left:30px">Where a task completion date is affected by a meter reading, the system will determine
           an average daily over n number of days.  The default is 90 days.  Anything below 30 days will use 30 and anything above 365 will use 365 days.
    A lower number of days will make the estimate more responsive to recent readings.
   </li>
</ul>
</div>
<form method="Post">
  {{ form.csrf_token }}
  <fieldset>
    <legend>{{ form.name }}</legend>
  <ul>
    <li>{{ render_field(form.task_id) }}</li>
    <li>{{ render_field(form.meter_id) }}</li>
    </br>
    <li>{{ render_field(form.last_done) }}</li>
    {% for f in form %}
    {% if f.name == 'last_done_reading' %}
      <li>{{ render_field(form.last_done_reading) }} </li> {{ meter.entry_uom }}
    {% endif %}
    {% endfor %}
    <li>{{ render_field(form.estimate_days) }}</li>
    </br>
    <li>{{ render_field(form.warning_days) }}</li>
    <li>{{ render_field(form.warning_email) }} </li>
  </ul>
    </fieldset>
  {{ form.btnsubmit() }}
  {{ form.cancel(formnovalidate=true) }}
  {{ form.delete() }}
</form>
{% endblock %}